<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="css/theme.css">
    <title>Calendar</title>            
</head>
<body>
    <div id="calendarWrapper">
    <div id="boi">
    </div>
    <div id="boi2"> 
    </div>
    </div>
    <script>
        var monthNames = ["January", "February", "March", "April", "May", "June","July", "August", "September", "October", "November","December"];
        var weekdayNames = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];

        // Fills three calendars
        function fillCalendar(d)
        {
            
            var HTML = ("");
            
            for(var q = 0; q < 3; q++)
            {
                var month = d.getMonth();
                var year = d.getFullYear();
                var monthLastDay =  new Date(d.getFullYear(), d.getMonth()+1, 0).getDate();
                var firstDay = new Date(d.getFullYear(), d.getMonth(),1).getDay() || 7;
                var day = 1;
    
                // Prints month name
                HTML += ("<table><thead><tr><th Align=center COLSPAN=7>" + monthNames[month] + "<br>" + year + "</thead><tbody><tr>");

                // Prints weekdays
                for (var p = 0; p <= 6; p++) {
                    HTML += ("<td>" + weekdayNames[p].substr(0, 3) + "</td>");
                }

                // Prints empty days in calendar
                HTML += ("</tr><tr>");
                for (var i = 1; i < firstDay; i++) {
                    HTML += ("<td>");
                }

                // Prints first week of month
                for (var i = firstDay; i < 8; i++){
                    HTML += ("<td>" + day + "</td>");
                    day++;
                }

                // Prints remaining weeks
                HTML += ("<tr>");
                while (day <= monthLastDay) {
                    for (var i = 1; i <= 7 && day <= monthLastDay; i++) {
                        HTML += ("<td>" + day + "</td>");
                        day++;
                    }
                    HTML += ("</tr><tr>");
                }
                HTML += ("</tr>");
                d.setMonth(d.getMonth()+1); 
            }
            HTML += ("</tbody></table><br>");
            document.getElementById("boi").innerHTML = HTML;
        }
    </script>

    <script>
        // Buttons for access next and previous months
        document.write("<button onclick=\"prevMonths()\">last months boi</button>");
        document.write("<button onclick=\"nextMonths()\">next months boi</button>");
        
        function nextMonths()
        {
            currentDate.setMonth(currentDate.getMonth());
            fillCalendar(currentDate);
        }
        
        function prevMonths()
        {
            currentDate.setMonth(currentDate.getMonth()-6);
            fillCalendar(currentDate);
        }
    </script>
    
    <script>
        var currentDay2 = new Date();
        currentDay2.setHours(8, 0, 0, 0);
        currentDay2.setDate(1);
        
        function fillTimetable()
        {
            var HTML2 = ("");
            HTML2 += ("<table id =\"timetable\"><thead><tr>");
            HTML2 += ("<th>&nbsp;</th>");
            
            for (var p = 0; p <= 6; p++) {
                    HTML2 += ("<th id =\"thWeekday\">" + weekdayNames[p] + "</th>");
            }
                
            HTML2 += ("</tr></thead><tbody><tr>");
            
            for (var o = 0; o < 21; o++) {
                var minutes = currentDay2.getMinutes();
                HTML2 += ("<tr><td>" + currentDay2.getHours() + ":" + currentDay2.getMinutes() + "</td>");
                
                for (var w = 0; w <= 6; w++) {
                HTML2 += ("<td>" + currentDay2 + "</td>");
                currentDay2.setDate(currentDay2.getDate()+1);
                }
                currentDay2.setDate(currentDay2.getDate()-7);
                currentDay2.setMinutes(minutes+30);
                HTML2 += ("</tr>");
            }
            HTML2 += ("</tr></tbody></table>");
            document.getElementById("boi2").innerHTML = HTML2;
        }
    </script>
    
    <script>
        // Prints current calendar on page load
        var currentDate = new Date();
        fillCalendar(currentDate);
        fillTimetable();
    </script>
</body>
</html>